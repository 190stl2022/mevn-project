{"version":3,"file":"js/872.c039d5ff.js","mappings":"mMACOA,MAAM,eAAeC,MAAA,uB,GAEjBD,MAAM,Y,SACJA,MAAM,qBAAqBE,KAAK,S,GAGrCC,EAAAA,EAAAA,GAAgD,MAA5CH,MAAM,8BAA6B,QAAI,G,GACtCA,MAAM,Q,GACTG,EAAAA,EAAAA,GAA6D,SAAtDC,IAAI,aAAaJ,MAAM,WAAU,iBAAa,G,GAWlDA,MAAM,Q,GACTG,EAAAA,EAAAA,GAA2D,SAApDC,IAAI,gBAAgBJ,MAAM,WAAU,YAAQ,G,GAUrDG,EAAAA,EAAAA,GAEM,OAFDH,MAAM,iBAAe,EACxBG,EAAAA,EAAAA,GAA0E,UAAlEH,MAAM,mCAAmCK,KAAK,UAAS,QAAE,G,0CA/BzEC,EAAAA,EAAAA,IAmCM,MAnCNC,EAmCM,EAlCJJ,EAAAA,EAAAA,GAiCO,QAjCDH,MAAM,6BAA8BQ,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAUC,EAAAC,QAAAD,EAAAC,UAAAF,IAAM,e,EAC9DR,EAAAA,EAAAA,GA+BM,MA/BNW,EA+BM,CA9B+CC,EAAAC,WAAQ,WAA3DV,EAAAA,EAAAA,IAEM,MAFNW,GAEMC,EAAAA,EAAAA,IADDH,EAAAC,UAAQ,oBAEbG,GACAhB,EAAAA,EAAAA,GAWM,MAXNiB,EAWM,CAVJC,GAA6D,SAC7DlB,EAAAA,EAAAA,GAQE,SAPAE,KAAK,QACLiB,GAAG,aACHtB,MAAM,eACNuB,YAAY,gBACZC,SAAA,GACAC,UAAA,G,qCACSV,EAAAW,KAAKC,MAAKC,I,iBAAVb,EAAAW,KAAKC,YAGlBxB,EAAAA,EAAAA,GAUM,MAVN0B,EAUM,CATJC,GAA2D,SAC3D3B,EAAAA,EAAAA,GAOE,SANAE,KAAK,WACLiB,GAAG,gBACHtB,MAAM,eACNuB,YAAY,WACZC,SAAA,G,qCACST,EAAAW,KAAKK,SAAQH,I,iBAAbb,EAAAW,KAAKK,cAGlBC,KAEM,K,iCASd,MAAMC,GAAcC,EAAAA,EAAAA,KAEpB,OACEC,OACE,MAAO,CACLT,KAAM,CACJC,MAAO,GACPI,SAAU,IAEZf,SAAU,GAGd,EACAoB,QAAS,CACPvB,SACE,MAAMwB,EAAM,gDAEZC,KAAKC,MAAMC,KAAKH,EAAKC,KAAKZ,MACvBe,MAAMC,IAILC,aAAaC,QAAQ,OAAQC,KAAKC,UAAUJ,EAAIP,OAChDY,QAAQC,IAAIH,KAAKI,MAAMN,aAAaO,QAAQ,SAASxB,MACrDO,EAAYA,YAAcY,KAAKI,MAAMN,aAAaO,QAAQ,SAASxB,KACnEyB,OAAOC,MAAM,sBACbd,KAAKe,QAAQC,KAAK,WAAW,IAE9BC,OAAOC,IACNlB,KAAKtB,SAAWwC,EAAIC,SAAStB,IAAG,GAEtC,GAEFuB,SAAU,KACLC,EAAAA,EAAAA,IAASzB,EAAAA,EAAkB,CAAC,kB,QCvEnC,MAAM0B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://client/./src/views/LoginView.vue","webpack://client/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <div class=\"container-md\" style=\"margin-top: 64px;\">\r\n    <form class=\"row justify-content-center\" @submit.prevent=\"signin\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"alert alert-danger\" role=\"alert\" v-if=\"errorMsg\">\r\n          {{ errorMsg }}\r\n        </div>\r\n        <h1 class=\"h3 mb-3 font-weight-normal\">會員登入</h1>\r\n        <div class=\"mb-2\">\r\n          <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"inputEmail\"\r\n            class=\"form-control\"\r\n            placeholder=\"Email address\"\r\n            required\r\n            autofocus\r\n            v-model=\"user.email\"\r\n          />\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <label for=\"inputPassword\" class=\"sr-only\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"inputPassword\"\r\n            class=\"form-control\"\r\n            placeholder=\"Password\"\r\n            required\r\n            v-model=\"user.password\"\r\n          />\r\n        </div>\r\n        <div class=\"text-end mt-4\">\r\n          <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登入</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'pinia'\r\nimport currentUserStore from '@/stores/currentUserStore.js'\r\nconst currentUser = currentUserStore()\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      user: {\r\n        email: '',\r\n        password: ''\r\n      },\r\n      errorMsg: ''\r\n      // currentUser: {}\r\n    }\r\n  },\r\n  methods: {\r\n    signin () {\r\n      const api = 'https://mevn-curd.onrender.com/api/user/login'\r\n      // console.log(api, this.user)\r\n      this.$http.post(api, this.user)\r\n        .then((res) => {\r\n          // console.log(res)\r\n          // currentUser.currentUser = res.data.user\r\n          // console.log(currentUser.currentUser)\r\n          localStorage.setItem('user', JSON.stringify(res.data))\r\n          console.log(JSON.parse(localStorage.getItem('user')).user)\r\n          currentUser.currentUser = JSON.parse(localStorage.getItem('user')).user\r\n          window.alert('登入成功，您現在將被重新導向個人頁面')\r\n          this.$router.push('/profile')\r\n        })\r\n        .catch((err) => {\r\n          this.errorMsg = err.response.data\r\n        })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(currentUserStore, ['currentUser'])\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=4ea3fea8\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","role","_createElementVNode","for","type","_createElementBlock","_hoisted_1","onSubmit","_cache","_withModifiers","args","$options","signin","_hoisted_2","$data","errorMsg","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","_hoisted_6","id","placeholder","required","autofocus","user","email","$event","_hoisted_7","_hoisted_8","password","_hoisted_9","currentUser","currentUserStore","data","methods","api","this","$http","post","then","res","localStorage","setItem","JSON","stringify","console","log","parse","getItem","window","alert","$router","push","catch","err","response","computed","mapState","__exports__","render"],"sourceRoot":""}